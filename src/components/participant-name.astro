---
import type { Act } from '../schemas/act';
import type { Participant } from '../schemas/participant';
import getParticipantFullName from '../utils/get-participant-full-name';
import getParticipantSearchQuery from '../utils/get-participant-search-query'

export interface Props {
  act: Act;
  participant: Participant;
}
const { act, participant } = Astro.props;
const fullName = getParticipantFullName(participant, false);
const searchQuery = getParticipantSearchQuery(participant, act)
---
<>
<a
  class="participant-link"
  href={`/?civil_acts%5Bquery%5D=${encodeURIComponent(searchQuery)}`}
  lang="ru"
  rel="nofollow"
  title="Шукати інші події за участі цієї особи">{fullName}</a
>
{participant.age && ` (${participant.age})`}
</>

<style>
  .participant-link {
    color: #4caf50;
    text-decoration: underline;
    font-weight: normal;
    padding: 0;
    border: none;
    transition: color 0.3s;
  }
  .participant-link:hover {
    color: #388e3c;
  }
</style>
