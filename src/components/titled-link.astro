---
import { Icon } from 'astro-icon/components';

export interface Props {
  href: string;
}

const titlesMap: Record<string,string> = {
  'dahmo.myasustor.com': '–î–ê–•–º–û',
  'docs.google.com': 'Google Docs',
  'drive.google.com': 'Google Drive',
  'photos.app.goo.gl': 'Google Photos',
  'uk.wikisource.org': 'WikiSource',
  'www.familysearch.org': 'FamilySearch',
};
const iconNamesMap: Record<string,string> = {
  'dahmo.myasustor.com': 'arcticons:folder-cloud',
  'docs.google.com': 'arcticons:google-docs',
  'drive.google.com': 'arcticons:google-drive',
  'photos.app.goo.gl': 'arcticons:google-photos',
  'uk.wikisource.org': 'ooui:logo-wikisource',
  'www.familysearch.org': 'arcticons:familysearch-tree',
};
const { href } = Astro.props;
const url = new URL(href);
const domain = url.hostname;
const iconName = iconNamesMap[domain];
---

<a href={href} rel="noopener noreferrer" target="_blank"
  >{titlesMap[domain] || domain}{
    iconName ? (
      <Icon name={iconName} />
    ) : (
      <span class="external-link-icon">üîó</span>
    )
  }</a
>
<style>
  a {
    color: #343a40; /* Dark grey text */
    text-decoration: none; /* No underline for a cleaner look */
    font-weight: bold; /* Bold text for better visibility */
    display: inline-flex;
    align-items: center;
    gap: 0.2em;
    font-family: 'Times New Roman', serif;
  }

  a:hover {
    color: #555; /* Slightly lighter grey on hover */
  }

  .external-link-icon {
    display: inline-block;
    margin-left: 8px;
    transform: translateY(-2px); /* Aligns icon with text */
  }
</style>
